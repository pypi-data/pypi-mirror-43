(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(37)},22:function(e,t,a){},23:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),l=a.n(r),i=(a(22),a(1)),s=a(2),c=a(4),d=a(3),u=a(6),p=a(5),m=(a(23),a(7)),f=a.n(m);f.a.defaultStyles.overlay.backgroundColor="#333333AA",f.a.defaultStyles.content.backgroundColor="#222222CC",f.a.defaultStyles.content.border="#333333CC";var h=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(f.a,{ariaHideApp:!1,isOpen:this.props.isOpen,style:{content:{height:"auto",bottom:"auto",width:"80vw",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}},o.a.createElement("h2",null,this.props.title),this.props.getBody())}}]),t}(n.Component),b=a(15),k=a.n(b),y=a(11),v=a.n(y),E=(a(34),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("span",{className:"node"},this.props.text)}}]),t}(n.Component)),O=(a(35),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={folders:[]},a.createModalBody=a.createModalBody.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.getFolders()}},{key:"getFolders",value:function(){var e=this;fetch("/list_folders",{mode:"cors"}).then(function(e){return e.json()}).then(function(t){e.setState({folders:t})})}},{key:"createModalBody",value:function(){var e=this;return o.a.createElement("form",{className:"bookmarkLabelForm",action:"./edit_bookmark",method:"post"},o.a.createElement("input",{type:"hidden",name:"id",value:this.props.id}),o.a.createElement("input",{type:"hidden",name:"folder_id",value:this.props.folder_id}),o.a.createElement("p",{className:"bookmarkLabelParagraph"},o.a.createElement("label",null,"Title"),o.a.createElement("input",{className:"bookmarkLabelInput",type:"text",name:"title",defaultValue:this.props.text})),o.a.createElement("p",{className:"bookmarkLabelParagraph"},o.a.createElement("label",null,"URL"),o.a.createElement("input",{className:"bookmarkLabelInput",type:"url",name:"url",defaultValue:this.props.url})),o.a.createElement("p",{className:"bookmarkLabelParagraph"},o.a.createElement("label",null,"Folder"),o.a.createElement("select",{className:"bookmarkLabelInput",name:"folder"},this.state.folders.map(function(t){return o.a.createElement("option",{value:t.id,selected:e.props.folder_id===t.id?"selected":""},t.folder_name)}))),o.a.createElement("p",{className:"bookmarkLabelParagraph"},o.a.createElement("input",{type:"submit",value:"Save"}),o.a.createElement("button",{onClick:this.props.appRef.closeModal,style:{float:"right"}},"Cancel")))}},{key:"createIconLabel",value:function(){return o.a.createElement("span",null,o.a.createElement("img",{src:this.props.icon,alt:this.props.text})," ",this.props.text)}},{key:"getHyperlink",value:function(){return o.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},this.props.icon?this.createIconLabel():this.props.text)}},{key:"getLabel",value:function(){var e=this;return o.a.createElement("span",null,this.getHyperlink(),o.a.createElement("span",{className:"bookmarkLabel fa fa-pencil-square-o",style:{float:"right"},onClick:function(){e.props.appRef.openModal("Edit bookmark",e.createModalBody)}}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"info",key:"bookmark|"+this.props.text},this.getLabel())}}]),t}(n.Component)),_=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).className="frostmark-bookmark-list",e.state={bookmarks:[]},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.getBookmarks()}},{key:"getBookmarks",value:function(){var e=this;k()("/list_tree",{mode:"cors"}).then(function(e){return e.json()}).then(function(t){e.setState({bookmarks:t})})}},{key:"processBookmarkTree",value:function(){var e,t={},a={};return this.state.bookmarks.forEach(function(e){"Folder"===e.node_type?t[e.id]={id:e.id,folder_name:e.folder_name,children:[],parent_folder_id:e.parent_folder_id,node_type:e.node_type}:"Bookmark"===e.node_type&&(a[e.id]={id:e.id,title:e.title,url:e.url,folder_id:e.folder_id,node_type:e.node_type,icon:e.icon})}),Object.keys(a).forEach(function(n){e=a[n],t.hasOwnProperty(e.folder_id)&&t[e.folder_id].children.push(e)}),Object.keys(t).forEach(function(a){e=t[a],t.hasOwnProperty(e.parent_folder_id)&&null!==e.parent_folder_id&&t[e.parent_folder_id].children.push(e)}),t[0]}},{key:"traverse",value:function(e){var t,a=this;return void 0===e?o.a.createElement(O,{text:"No data found."}):("Folder"===e.node_type?t=e.children.length?o.a.createElement(v.a,{key:"folder|"+e.folder_name,nodeLabel:o.a.createElement(E,{text:e.folder_name})},e.children.map(function(e){return a.traverse(e)})):o.a.createElement(v.a,{key:"folder|"+e.folder_name,nodeLabel:o.a.createElement(E,{text:e.folder_name})}):"Bookmark"===e.node_type&&(t=o.a.createElement(O,{id:e.id,folder_id:e.folder_id,url:e.url,icon:e.icon,text:e.title,appRef:this.props.appRef})),t)}},{key:"render",value:function(){return o.a.createElement("div",{className:this.className},this.traverse(this.processBookmarkTree()))}}]),t}(n.Component),j=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={modalIsOpen:!1,modalTitle:"",modalBodyBuilder:function(){}},e.openModal=e.openModal.bind(Object(u.a)(e)),e.closeModal=e.closeModal.bind(Object(u.a)(e)),e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"openModal",value:function(e,t){this.setState({modalTitle:e,modalIsOpen:!0,modalBodyBuilder:t})}},{key:"closeModal",value:function(){this.setState({modalTitle:"",modalIsOpen:!1,modalBodyBuilder:function(){}})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(h,{appRef:this,isOpen:this.state.modalIsOpen,getBody:this.state.modalBodyBuilder,title:this.state.modalTitle}),o.a.createElement(_,{appRef:this}))}}]),t}(n.Component);a(36);l.a.render(o.a.createElement(j,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.635989dd.chunk.js.map