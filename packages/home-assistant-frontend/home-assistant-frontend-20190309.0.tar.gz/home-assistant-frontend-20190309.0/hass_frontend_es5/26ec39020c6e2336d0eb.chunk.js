(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{168:function(e,t,n){"use strict";n.d(t,"a",function(){return l});n(101);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=customElements.get("iron-icon"),f=!1,l=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return(n=i(this,(e=a(t)).call.apply(e,[this].concat(o))))._iconsetName=void 0,n}var r,l,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,s),r=t,(l=[{key:"listen",value:function(e,r,o){u(a(t.prototype),"listen",this).call(this,e,r,o),f||"mdi"!==this._iconsetName||(f=!0,n.e(59).then(n.bind(null,208)))}}])&&o(r.prototype,l),p&&o(r,p),t}();customElements.define("ha-icon",l)},224:function(e,t,n){"use strict";n(101);var r=n(168);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,c(t).apply(this,arguments))}var n,o,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),n=t,(o=[{key:"connectedCallback",value:function(){this.icon="ltr"===window.getComputedStyle(this).direction?"hass:chevron-right":"hass:chevron-left",a(c(t.prototype),"connectedCallback",this).call(this)}}])&&i(n.prototype,o),f&&i(n,f),t}();customElements.define("ha-icon-next",f)},336:function(e,t,n){"use strict";function r(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}n.d(t,"a",function(){return o});var o=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callWS({type:"config/auth/list"}));case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(o,i){var u=e.apply(t,n);function a(e){r(u,o,i,a,c,"next",e)}function c(e){r(u,o,i,a,c,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}()},729:function(e,t,n){"use strict";n.r(t);n(147);var r=n(11),o=n(19),i=n(3),u=n(24),a=n(204),c=(n(227),n(131),n(164),n(171),n(144),n(224),n(110)),s=n(84),f=n(102);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n      <style>\n        paper-fab {\n          position: fixed;\n          bottom: 16px;\n          right: 16px;\n          z-index: 1;\n        }\n        paper-fab[is-wide] {\n          bottom: 24px;\n          right: 24px;\n        }\n        paper-fab[rtl] {\n          right: auto;\n          left: 16px;\n        }\n        paper-fab[rtl][is-wide] {\n          bottom: 24px;\n          right: auto;\n          left: 24px;\n        }\n\n        paper-card {\n          display: block;\n          max-width: 600px;\n          margin: 16px auto;\n        }\n        a {\n          text-decoration: none;\n          color: var(--primary-text-color);\n        }\n      </style>\n\n      <hass-subpage header="[[localize(\'ui.panel.config.users.picker.title\')]]">\n        <paper-card>\n          <template is="dom-repeat" items="[[users]]" as="user">\n            <a href="[[_computeUrl(user)]]">\n              <paper-item>\n                <paper-item-body two-line>\n                  <div>[[_withDefault(user.name, \'Unnamed User\')]]</div>\n                  <div secondary="">\n                    [[user.id]]\n                    <template is="dom-if" if="[[user.system_generated]]">\n                      - System Generated\n                    </template>\n                  </div>\n                </paper-item-body>\n                <ha-icon-next></ha-icon-next>\n              </paper-item>\n            </a>\n          </template>\n        </paper-card>\n\n        <paper-fab\n          is-wide$="[[isWide]]"\n          icon="hass:plus"\n          title="[[localize(\'ui.panel.config.users.picker.add_user\')]]"\n          on-click="_addUser"\n          rtl$="[[rtl]]"\n        ></paper-fab>\n      </hass-subpage>\n    ']);return p=function(){return e},e}function y(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=!1,O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,m(t).apply(this,arguments))}var r,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,Object(s["a"])(Object(a["a"])(Object(c["a"])(u["a"])))),r=t,l=[{key:"template",get:function(){return Object(i.a)(p())}},{key:"properties",get:function(){return{hass:Object,users:Array,rtl:{type:Boolean,reflectToAttribute:!0,computed:"_computeRTL(hass)"}}}}],(o=[{key:"connectedCallback",value:function(){h(m(t.prototype),"connectedCallback",this).call(this),g||(g=!0,this.fire("register-dialog",{dialogShowEvent:"show-add-user",dialogTag:"ha-dialog-add-user",dialogImport:function(){return Promise.all([n.e(1),n.e(23)]).then(n.bind(null,776))}}))}},{key:"_withDefault",value:function(e,t){return e||t}},{key:"_computeUrl",value:function(e){return"/config/users/".concat(e.id)}},{key:"_computeRTL",value:function(e){return Object(f.a)(e)}},{key:"_addUser",value:function(){var e=this;this.fire("show-add-user",{hass:this.hass,dialogClosedCallback:function(){var t,n=(t=regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n.userId,e.fire("reload-users"),r&&e.navigate("/config/users/".concat(r));case 3:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function u(e){y(i,r,o,u,a,"next",e)}function a(e){y(i,r,o,u,a,"throw",e)}u(void 0)})});return function(e){return n.apply(this,arguments)}}()})}}])&&b(r.prototype,o),l&&b(r,l),t}();customElements.define("ha-config-user-picker",O);n(73);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n      <style include="ha-style">\n        paper-card {\n          display: block;\n          max-width: 600px;\n          margin: 0 auto 16px;\n        }\n        paper-card:first-child {\n          margin-top: 16px;\n        }\n        paper-card:last-child {\n          margin-bottom: 16px;\n        }\n        hass-subpage paper-card:first-of-type {\n          direction: ltr;\n        }\n      </style>\n\n      <hass-subpage\n        header="[[localize(\'ui.panel.config.users.editor.caption\')]]"\n      >\n        <paper-card heading="[[_computeName(user)]]">\n          <table class="card-content">\n            <tr>\n              <td>ID</td>\n              <td>[[user.id]]</td>\n            </tr>\n            <tr>\n              <td>Owner</td>\n              <td>[[user.is_owner]]</td>\n            </tr>\n            <tr>\n              <td>Active</td>\n              <td>[[user.is_active]]</td>\n            </tr>\n            <tr>\n              <td>System generated</td>\n              <td>[[user.system_generated]]</td>\n            </tr>\n          </table>\n        </paper-card>\n        <paper-card>\n          <div class="card-actions">\n            <mwc-button\n              class="warning"\n              on-click="_deleteUser"\n              disabled="[[user.system_generated]]"\n            >\n              [[localize(\'ui.panel.config.users.editor.delete_user\')]]\n            </mwc-button>\n            <template is="dom-if" if="[[user.system_generated]]">\n              Unable to remove system generated users.\n            </template>\n          </div>\n        </paper-card>\n      </hass-subpage>\n    ']);return _=function(){return e},e}function j(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,x(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,Object(s["a"])(Object(a["a"])(Object(c["a"])(u["a"])))),n=t,r=[{key:"_computeName",value:function(e){return e&&(e.name||"Unnamed user")}},{key:"_deleteUser",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to delete ".concat(this._computeName(this.user)))){e.next=3;break}return t.target.blur(),e.abrupt("return");case 3:return e.prev=3,e.next=6,this.hass.callWS({type:"config/auth/delete",user_id:this.user.id});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),alert(e.t0.code),e.abrupt("return");case 12:this.fire("reload-users"),this.navigate("/config/users");case 14:case"end":return e.stop()}},e,this,[[3,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function u(e){j(i,r,o,u,a,"next",e)}function a(e){j(i,r,o,u,a,"throw",e)}u(void 0)})});return function(e){return t.apply(this,arguments)}}()}],o=[{key:"template",get:function(){return Object(i.a)(_())}},{key:"properties",get:function(){return{hass:Object,user:Object}}}],r&&k(n.prototype,r),o&&k(n,o),t}();customElements.define("ha-user-editor",R);var E=n(45),D=n(336);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n      <app-route\n        route="[[route]]"\n        pattern="/users/:user"\n        data="{{_routeData}}"\n      ></app-route>\n\n      <template is="dom-if" if=\'[[_equals(_routeData.user, "picker")]]\'>\n        <ha-config-user-picker\n          hass="[[hass]]"\n          users="[[_users]]"\n        ></ha-config-user-picker>\n      </template>\n      <template\n        is="dom-if"\n        if=\'[[!_equals(_routeData.user, "picker")]]\'\n        restamp\n      >\n        <ha-user-editor\n          hass="[[hass]]"\n          user="[[_computeUser(_users, _routeData.user)]]"\n        ></ha-user-editor>\n      </template>\n    ']);return U=function(){return e},e}function z(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e,t,n){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,q(t).apply(this,arguments))}var n,c,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,Object(a["a"])(u["a"])),n=t,c=[{key:"ready",value:function(){var e=this;N(q(t.prototype),"ready",this).call(this),this._loadData(),this.addEventListener("reload-users",function(){return e._loadData()})}},{key:"_handlePickUser",value:function(e){this._user=e.detail.user}},{key:"_checkRoute",value:function(e){var t=this;e&&"/users"===e.path.substr(0,6)&&(Object(E.a)(this,"iron-resize"),this._debouncer=o.a.debounce(this._debouncer,r.d.after(0),function(){"/users"===e.path&&t.navigate("/config/users/picker",!0)}))}},{key:"_computeUser",value:function(e,t){return e&&e.filter(function(e){return e.id===t})[0]}},{key:"_equals",value:function(e,t){return e===t}},{key:"_loadData",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)(this.hass);case 2:this._users=e.sent;case 3:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function u(e){z(i,r,o,u,a,"next",e)}function a(e){z(i,r,o,u,a,"throw",e)}u(void 0)})});return function(){return t.apply(this,arguments)}}()}],s=[{key:"template",get:function(){return Object(i.a)(U())}},{key:"properties",get:function(){return{hass:Object,route:{type:Object,observer:"_checkRoute"},_routeData:Object,_user:{type:Object,value:null},_users:{type:Array,value:null}}}}],c&&C(n.prototype,c),s&&C(n,s),t}();customElements.define("ha-config-users",L)}}]);